C51 COMPILER V9.57.0.0   74XX595                                                           06/12/2020 14:10:43 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE 74XX595
OBJECT MODULE PLACED IN ..\OBJ\74xx595.obj
COMPILER INVOKED BY: e:\Keil_v5\C51\BIN\C51.EXE ..\HARDWARE\74xx595.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\HARDWARE) DEBUG
                    - OBJECTEXTEND PRINT(.\Listings\74xx595.lst) OBJECT(..\OBJ\74xx595.obj)

line level    source

   1          #include "74xx595.h"
   2          
   3          // 接受和发送数据，num代表级联的个数
   4          void _74XX595_SendByte(u8 num, u8 dat[])
   5          {
   6   1              u8 i;
   7   1              u8 temp = num;
   8   1              
   9   1              // 存储和移位寄存器置高电平初始化
  10   1              _74XX595_RCK = 1;
  11   1              _74XX595_SCK = 1;
  12   1              
  13   1              // 级联个数循环
  14   1              while(temp--)
  15   1              {
  16   2                      for(i = 0; i < 8; i++)
  17   2                      {
  18   3                              // 先发送数据最高位
  19   3                              _74XX595_SER = dat[num - 1 - temp] >> 7;
  20   3                              // 再将数据左移
  21   3                              dat[num - 1 - temp] <<= 1;
  22   3                              
  23   3                              // 上升沿移位
  24   3                              _74XX595_SCK = 0;
  25   3                              _nop_(); _nop_();
  26   3                              _74XX595_SCK = 1;
  27   3                      }
  28   2              }
  29   1              
  30   1              // 上升沿数据输出
  31   1              _74XX595_RCK = 0;
  32   1              _nop_(); _nop_();
  33   1              _74XX595_RCK = 1;
  34   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    121    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       6
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
