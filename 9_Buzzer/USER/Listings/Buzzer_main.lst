C51 COMPILER V9.57.0.0   BUZZER_MAIN                                                       06/12/2020 14:11:13 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE BUZZER_MAIN
OBJECT MODULE PLACED IN ..\OBJ\Buzzer_main.obj
COMPILER INVOKED BY: e:\Keil_v5\C51\BIN\C51.EXE Buzzer_main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\HARDWARE) DEBUG OBJECTE
                    -XTEND PRINT(.\Listings\Buzzer_main.lst) OBJECT(..\OBJ\Buzzer_main.obj)

line level    source

   1          // 蜂鸣器的原理就是给高低电平脉冲以及延迟使其发声
   2          #include <reg52.h>
   3          #include "buzzer.h"
   4          
   5          // 定义常用类型
   6          #ifndef u8
              #define u8 unsigned char
              #endif
   9          #ifndef u16
              #define u16 unsigned int
              #endif
  12          
  13          // 《喜欢你》
  14          //u8 code music_score[] = 
  15          //{/* 1   2   3   4   5   6   7   8   9   10  11  12 */ 
  16          //      42, 42, 42, 44, 42, 40, 35, 40,
  17          //      39, 37, 32,
  18          //      42, 42, 42, 44, 42, 40, 35, 40,
  19          //      39, 40, 39, 37, 37, 40,
  20          //      44, 42, 42, 40, 42, 37, 40,
  21          //      44, 42, 42, 40, 42,
  22          //      42, 42, 42, 44, 42, 40, 35, 40,
  23          //      39, 37, 32,
  24          //      42, 42, 42, 44, 42, 40, 35, 40,
  25          //      39, 40, 39, 37, 37, 40,
  26          //      44, 42, 42, 40, 42, 37, 40,
  27          //      44, 42, 42, 40, 42,
  28          //      47, 44, 42, 40, 39, 40, 42, 44, 44, 44, 42, 40, 
  29          //      40, 40, 42, 40, 39,
  30          //      37, 40, 42, 40, 39,
  31          //      37, 39, 40,
  32          //      42, 44, 44, 42, 40,
  33          //      40, 40, 42, 40, 39,
  34          //      37, 40, 42, 40, 39,
  35          //      37, 39, 40,
  36          //      42, 40, 39,
  37          //      40
  38          //};
  39          //// 这首歌的延迟要除以2.5
  40          //u16 code music_delay[] = 
  41          //{
  42          //      325, 125, 250, 250, 250, 250, 250, 500,
  43          //      500, 125, 875,
  44          //      325, 125, 250, 250, 250, 250, 250, 500,
  45          //      500, 125, 125, 500, 250, 250,
  46          //      250, 250, 250, 125, 625, 250, 250,
  47          //      250, 250, 250, 250, 1000,
  48          //      325, 125, 250, 250, 250, 250, 250, 500,
  49          //      500, 125, 875,
  50          //      325, 125, 250, 250, 250, 250, 250, 500,
  51          //      500, 125, 125, 500, 250, 250,
  52          //      250, 250, 250, 125, 625, 250, 250,
  53          //      250, 250, 250, 250, 1000,
  54          //      125, 125, 125, 125, 125, 125, 125, 125, 500, 125, 125, 250,
C51 COMPILER V9.57.0.0   BUZZER_MAIN                                                       06/12/2020 14:11:13 PAGE 2   

  55          //      1000, 250, 250, 250, 250, 
  56          //      1000, 250, 250, 250, 250, 
  57          //      1000, 500, 500,
  58          //      1000, 500, 125, 125, 250,
  59          //      1000, 250, 250, 250, 250, 
  60          //      1000, 250, 250, 250, 250, 
  61          //      1000, 500, 500,
  62          //      1000, 500, 500, 
  63          //      2000
  64          //};
  65          
  66          // 《桥边姑娘》
  67          u8 code music_score[] = 
  68          {/* 1   2   3   4   5   6   7   8   9   10  11  12 */ 
  69                  40, 44,
  70                  47, 47, 44,
  71                  42,
  72                  47, 51, 47,
  73                  44,
  74                  40, 42, 44,
  75                  47, 35,
  76                  42, 40, 44,
  77                  42,
  78                  40,
  79                  44, 47, 47, 40,
  80                  47, 47, 47, 37,
  81                  40, 37, 40, 47,
  82                  44, 35,
  83                  37, 40, 40, 40, 37,
  84                  35, 40, 40, 37,
  85                  40, 40, 37, 37, 44,
  86                  42,
  87                  44, 47, 47, 44, 44,
  88                  42, 47, 47, 37,
  89                  40, 37, 40, 47,
  90                  44,
  91                  37, 40, 40, 40, 40, 
  92                  37, 35, 40,
  93                  42, 42, 42, 56, 42, 40,
  94                  40,
  95                  49, 49, 49,
  96                  47, 44,
  97                  45, 47, 45,
  98                  44,
  99                  49, 49, 49,
 100                  47, 44,
 101                  45, 59, 39, 40
 102          };
 103          // 这首歌延迟需要除以3
 104          u16 code music_delay[] = 
 105          {
 106                  250, 250,
 107                  500, 250, 250,
 108                  1000,
 109                  500, 250, 250,
 110                  1000,
 111                  500, 250, 250,
 112                  500, 500,
 113                  500, 250, 250,
 114                  1000,
 115                  1000,
 116                  250, 250, 375, 125,
C51 COMPILER V9.57.0.0   BUZZER_MAIN                                                       06/12/2020 14:11:13 PAGE 3   

 117                  250, 250, 375, 125,
 118                  250, 250, 250, 250,
 119                  750, 250,
 120                  250, 125, 125, 250, 250,
 121                  250, 250, 375, 125,
 122                  250, 125, 125, 250, 250,
 123                  1000,
 124                  250, 250, 250, 125, 125,
 125                  250, 250, 375, 125,
 126                  250, 250, 250, 250,
 127                  1000,
 128                  250, 250, 250, 125, 125,
 129                  250, 250, 500,
 130                  250, 125, 125, 125, 125, 250,
 131                  1000,
 132                  500, 250, 250,
 133                  750, 250,
 134                  500, 250, 250,
 135                  1000,
 136                  500, 250, 250,
 137                  750, 250,
 138                  500, 125, 125, 1250
 139          };
 140          
 141          void main()
 142          {
 143   1              u8 i;
 144   1              
 145   1              Buzzer_Init();
 146   1              while(1)
 147   1              {       
 148   2                      /* music_score是简谱对应钢琴琴键编号
 149   2                         music_delay是延迟毫秒数 */ 
 150   2                      for(i = 0; i < sizeof(music_score) / sizeof(music_score[0]); i++)
 151   2                      {
 152   3                              Buzzer_Play(music_score[i] + 12, music_delay[i] / 3);
 153   3                      }
 154   2              }
 155   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     60    ----
   CONSTANT SIZE    =    288    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
