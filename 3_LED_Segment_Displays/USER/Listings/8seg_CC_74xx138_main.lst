C51 COMPILER V9.57.0.0   8SEG_CC_74XX138_MAIN                                              06/12/2020 14:08:32 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE 8SEG_CC_74XX138_MAIN
OBJECT MODULE PLACED IN ..\OBJ\8seg_CC_74xx138_main.obj
COMPILER INVOKED BY: e:\Keil_v5\C51\BIN\C51.EXE 8seg_CC_74xx138_main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\HARDWARE) DEBU
                    -G OBJECTEXTEND PRINT(.\Listings\8seg_CC_74xx138_main.lst) OBJECT(..\OBJ\8seg_CC_74xx138_main.obj)

line level    source

   1          /* 注意，使用74xx138芯片不加其他器件的情况下只能用于共阴数码管，共阳数码管需要诸如三极管等 */
   2          
   3          #include <reg52.h>
   4          #include "8seg_CC_74xx138.h"
   5          
   6          // 定义常用类型
   7          #ifndef u8
              #define u8 unsigned char
              #endif
  10          #ifndef u16
              #define u16  unsigned int
              #endif
  13          
  14          // 显示一位最低位，0 ~ F，小数点闪烁
  15          void Dis1Bit()
  16          {
  17   1              u8 i, disCode[8] = "        ";
  18   1              u16 t;
  19   1              
  20   1              for(i = 0; i < 16; i++)
  21   1              {
  22   2                      if(i >= 0 && i <= 9) disCode[7] = '0' + i;
  23   2                      else                             disCode[7] = 'A' + i - 10;
  24   2                      
  25   2                      // 这个for循环用来延时
  26   2                      for(t = 200; t > 0; t--)
  27   2                      {
  28   3                              LED_8Seg_Display(disCode, !(i % 2 == 0));
  29   3                      }
  30   2              }
  31   1      }
  32          
  33          // 显示全部位，0 ~ F，小数点闪烁
  34          void Dis8Bit()
  35          {
  36   1              u8 i, disCode[8];
  37   1              u16 t;
  38   1              
  39   1              for(i = 0; i < 16; i++)
  40   1              {
  41   2                      if(i >= 0 && i <= 9)
  42   2                      {
  43   3                              for(t = 0; t < 8; t++) disCode[t] = '0' + i;
  44   3                      }
  45   2                      else
  46   2                      {
  47   3                              for(t = 0; t < 8; t++) disCode[t] = 'A' + i - 10;
  48   3                      }       
  49   2                      
  50   2                      // 这个for循环用来延时
  51   2                      for(t = 200; t > 0; t--)
  52   2                      {
  53   3                              LED_8Seg_Display(disCode, (i % 2 == 0 ? 0x00 : 0xFF));
  54   3                      }
C51 COMPILER V9.57.0.0   8SEG_CC_74XX138_MAIN                                              06/12/2020 14:08:32 PAGE 2   

  55   2              }
  56   1      }
  57          
  58          void main()
  59          {
  60   1              while(1)
  61   1              {
  62   2                      Dis1Bit();
  63   2                      Dis8Bit();
  64   2              }
  65   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    258    ----
   CONSTANT SIZE    =      8    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      22
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
