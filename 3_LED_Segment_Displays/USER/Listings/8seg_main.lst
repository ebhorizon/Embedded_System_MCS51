C51 COMPILER V9.57.0.0   8SEG_MAIN                                                         05/27/2020 22:57:40 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE 8SEG_MAIN
OBJECT MODULE PLACED IN ..\OBJ\8seg_main.obj
COMPILER INVOKED BY: e:\Keil_v5\C51\BIN\C51.EXE 8seg_main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\HARDWARE) DEBUG OBJECTEXT
                    -END PRINT(.\Listings\8seg_main.lst) OBJECT(..\OBJ\8seg_main.obj)

line level    source

   1          #include <reg52.h>
   2          #include "8seg.h"
   3          
   4          typedef unsigned char u8;       // 0 ~ 255
   5          typedef unsigned int  u16;      // 0 ~ 65535
   6          
   7          // 显示一位最低位，0 ~ F，小数点闪烁
   8          void Dis1Bit()
   9          {
  10   1              u8 i, disCode[8] = "        ";
  11   1              u16 t;
  12   1              
  13   1              for(i = 0; i < 16; i++)
  14   1              {
  15   2                      if(i >= 0 && i <= 9) disCode[7] = '0' + i;
  16   2                      else                             disCode[7] = 'A' + i - 10;
  17   2                      
  18   2                      // 这个for循环用来延时
  19   2                      for(t = 200; t > 0; t--)
  20   2                      {
  21   3                              LED_8Seg_Display(disCode, !(i % 2 == 0));
  22   3                      }
  23   2              }
  24   1      }
  25          
  26          // 显示全部位，0 ~ F，小数点闪烁
  27          void Dis8Bit()
  28          {
  29   1              u8 i, disCode[8];
  30   1              u16 t;
  31   1              
  32   1              for(i = 0; i < 16; i++)
  33   1              {
  34   2                      if(i >= 0 && i <= 9)
  35   2                      {
  36   3                              for(t = 0; t < 8; t++) disCode[t] = '0' + i;
  37   3                      }
  38   2                      else
  39   2                      {
  40   3                              for(t = 0; t < 8; t++) disCode[t] = 'A' + i - 10;
  41   3                      }       
  42   2                      
  43   2                      // 这个for循环用来延时
  44   2                      for(t = 200; t > 0; t--)
  45   2                      {
  46   3                              LED_8Seg_Display(disCode, (i % 2 == 0 ? 0x00 : 0xFF));
  47   3                      }
  48   2              }
  49   1      }
  50          
  51          void main()
  52          {
  53   1              while(1)
  54   1              {
C51 COMPILER V9.57.0.0   8SEG_MAIN                                                         05/27/2020 22:57:40 PAGE 2   

  55   2                      Dis1Bit();
  56   2                      Dis8Bit();
  57   2              }
  58   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    258    ----
   CONSTANT SIZE    =      8    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      22
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
