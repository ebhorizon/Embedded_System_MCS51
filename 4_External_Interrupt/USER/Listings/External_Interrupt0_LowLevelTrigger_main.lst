C51 COMPILER V9.57.0.0   EXTERNAL_INTERRUPT0_LOWLEVELTRIGGER_MAIN                          06/12/2020 14:09:06 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE EXTERNAL_INTERRUPT0_LOWLEVELTRIGGER_MAIN
OBJECT MODULE PLACED IN ..\OBJ\External_Interrupt0_LowLevelTrigger_main.obj
COMPILER INVOKED BY: e:\Keil_v5\C51\BIN\C51.EXE External_Interrupt0_LowLevelTrigger_main.c OPTIMIZE(8,SPEED) BROWSE DEBU
                    -G OBJECTEXTEND PRINT(.\Listings\External_Interrupt0_LowLevelTrigger_main.lst) OBJECT(..\OBJ\External_Interrupt0_LowLevel
                    -Trigger_main.obj)

line level    source

   1          /* 外部中断0――低电平触发 */
   2          
   3          #include <reg52.h>
   4          
   5          // 定义常用类型
   6          #ifndef u8
   7          #define u8 unsigned char
   8          #endif
   9          #ifndef u16
  10          #define u16  unsigned int
  11          #endif
  12          
  13          #define LED P0                          // 定义LED接在P0
  14          sbit KEY = P3^2;                        // 定义触发外部中断0的按键
  15          
  16          // 外部中断0初始化函数
  17          void EINT0_Init()
  18          {
  19   1              // 触发方式：低电平触发
  20   1              IT0 = 0;
  21   1              // 开启外部中断0
  22   1              EX0 = 1;
  23   1              // 开启全局中断
  24   1              EA  = 1;
  25   1      }
  26          
  27          void Delay10ms()                        //误差 0us
  28          {
  29   1          u8 a, b, c;
  30   1          for(c = 1; c > 0; c--)
  31   1              for(b = 38; b > 0; b--)
  32   1                  for(a = 130; a > 0; a--);
  33   1      }
  34          
  35          void main()
  36          {
  37   1              LED = 0x33;                             // LED显示：0011 0011
  38   1              EINT0_Init();
  39   1              while(1);
  40   1      }
  41          
  42          /* 1. 中断函数可以不写返回类型
  43             2. 中断函数可以加一句using表示使用的寄存器组（0 ~ 3） */
  44          void EINT0() interrupt 0
  45          {
  46   1              // 进入中断时，LED灯亮灭状态翻转
  47   1              
  48   1              // ----!!!!!!!!此处的按键程序不标准，仅作为测试使用!!!!!!!!----
  49   1              if(!INT0)                               // 按键按下就是接GND
  50   1              {
  51   2                      Delay10ms();
  52   2                      while(!INT0);           // 判断按键是否松开
  53   2                      LED = ~LED;
C51 COMPILER V9.57.0.0   EXTERNAL_INTERRUPT0_LOWLEVELTRIGGER_MAIN                          06/12/2020 14:09:06 PAGE 2   

  54   2              }
  55   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     60    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
